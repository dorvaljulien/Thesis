%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%           Liste des packages         %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%% Réglage des fontes et typo
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[frenchb]{babel}

%% Apparence globale
\usepackage{color}
\usepackage[top=1.5cm, bottom=3.5cm, inner=2cm, outer=3cm]{geometry}

% \usepackage[french]{minitoc}		% Permet de faire une table des matieres par chapitre
% \setcounter{minitocdepth}{3}		% Mini-toc détaillées (sections/sous-sections)
% \usepackage{silence}
% \WarningFilter{minitoc(hints)}{W0023}	% Virer les erreur dues à minitoc
% \WarningFilter{minitoc(hints)}{W0024}
% \WarningFilter{minitoc(hints)}{W0028}
% \WarningFilter{minitoc(hints)}{W0030}
% \WarningFilter{blindtext}{} % this takes care of the `blindtext` messages

\usepackage{titlesec}
\usepackage{enumerate}
\usepackage{enumitem}
\usepackage{pdflscape}			% Permet d'utiliser des pages au format paysage
\usepackage{url}
\usepackage{listings}			% Permet d'insérer du code source
\usepackage{changepage}

\usepackage{hyperref}
% \definecolor{citations}{rgb}{0,0,0.4}
% \definecolor{liens}{rgb}{0.5,0,0}
% \hypersetup{
% 	unicode=true,
% 	pdffitwindow=true,
% 	pdfnewwindow=false,
% 	colorlinks=true,
% 	linkcolor=black,
% 	citecolor=citations,
% 	urlcolor=black
% }
% \usepackage{breakurl}
% \usepackage{ifmtarg}

%% Maths
\usepackage{amsmath}	% Permet de taper des formules mathématiques
\usepackage{amssymb}	% Permet d'utiliser des symboles mathématiques
\usepackage{amsfonts}	% Permet d'utiliser des polices mathématiques
\usepackage{amsthm}
\usepackage{nicefrac}	% Permet de taper de belles fractions
\usepackage{relsize}

\usepackage[french,ruled,vlined]{algorithm2e}
\SetKwInput{Data}{\textbf{Données}}
\SetKwInput{Res}{\textbf{Résultats}}
\SetKwFor{Pour}{pour}{faire}{fin boucle}
\SetKwBlock{Deb}{début}{fin}
%     \SetKwInput{Entree}{Entrées}
%     \SetKwInput{Sortie}{Sorties}
%     \SetKw{KwA}{à}
%     \SetKw{Retour}{retourner}
%     \SetKwIF{Si}{SinonSi}{Sinon}{si}{alors}{sinon si}{alors}{finsi}
%     \SetKwSwitch{Suivant}{Cas}{Autre}{suivant}{faire}{cas où}{autres cas}{fin d’alternative}
%     \SetKwFor{Tq}{tant que}{faire}{fintq}
%     \SetKwFor{PourCh}{pour chaque}{faire}{finprch}
%     \SetKwFor{PourTous}{pour tous}{faire}{finprts}
%     \SetKwRepeat{Repeter}{répèter}{jusqu’à}


%% Tableaux
\usepackage{array}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{colortbl}
\usepackage{threeparttable}	% Permet de faire des ``tablenotes'' dans un tableau
\newcolumntype{D}[1]{>{\centering}m{#1}}
% \usepackage{slashbox}
\usepackage{diagbox}

%% Graphiques
\usepackage{graphicx}		% Permet l'inclusion d'images
\usepackage{pdfpages}		% Permet d'inclure des pdf plus facilement \includepdf
\usepackage{tikz}		% Permet de creer des elements graphiques
\usepackage{eso-pic}		% Permet d'ajouter des commandes graphiques a chaque page


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%         Commande Personnelles        %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\titleformat{\chapter}[display]
  {\normalfont\Huge\bfseries\raggedleft}
  {\MakeUppercase{\chaptertitlename}%
    \rlap{ \resizebox{!}{2cm}{\thechapter} \rule{5cm}{2cm}}}
  {10pt}{\Huge}
\titlespacing*{\chapter}{0pt}{30pt}{20pt}


\newcommand{\partie}[1]{ \part{\textsc{#1}} }
\newcommand{\introchapitre}[1]{ \chapter*{\textsc{#1}} }
\newcommand{\biblio}[1]{ \chapter*{\textsc{#1}} }

\newcommand{\algoref}[1]{Algorithme. \ref{#1}}
\newcommand{\secref}[1]{Section. \ref{#1}}
\newcommand{\chapref}[1]{Chapitre. \ref{#1}}
\newcommand{\figref}[1]{\textsc{Figure}. \ref{#1}}
\newcommand{\tabref}[1]{\textsc{Tableau}. \ref{#1}}

\newcommand{\etco}{\textit{et coll.}\ }
\newcommand{\dtitk}{\textit{DTI-TK}\ }
\newcommand{\fa}{Fraction d'Anisotropie\ }
\newcommand{\md}{Diffusion Moyenne\ }
\newcommand{\da}{Diffusion Axiale\ }
\newcommand{\dr}{Diffusion Radiale\ }
\newcommand{\mlg}{Modèle Linéaire Général\ }

\addto\captionsfrench{\def\tablename{\textsc{Tableau}}}

\newcommand{\largedot}{\mathlarger{\mathlarger{\mathlarger{\cdot}}}}

\makeatletter
\def \@date{\data{today}}

\def\@auteur{Auteur}
\newcommand{\auteur}[2]{\def\@auteur{#1~\textsc{#2}}}

\def\@titre{Titre de la thèse}
\newcommand{\titre}[1]{\def\@titre{#1}}

\def\@specialite{Spécialité}
\newcommand{\specialite}[1]{\def\@specialite{#1}}

\def\@directeur{Directeur}
\newcommand{\directeur}[2]{\def\@directeur{#1~\textsc{#2}}}

\def\@encadrant{Encadrant}
\newcommand{\encadrant}[2]{\def\@encadrant{#1~\textsc{#2}}}

\def\@ecole{\'Ecole}
\newcommand{\ecole}[1]{\def\@ecole{#1}}

\makeatother


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%         En tete et pied de page      %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\usepackage{fancyhdr}			% Permet de générer automatiquement des en-têtes et des pieds de pages

  \setlength{\headheight}{2cm}	% hauteur de l'en-tête
  
  %%%%%%%%% style front %%%%%%%%
  \fancypagestyle{front}
  {
      \fancyhf{}				% en-tête vide
      
      \fancyfoot[RO,LE]{\textbf{\thepage}}	% pied de page avec : page numéro
      \renewcommand{\footrulewidth}{0pt}
      \renewcommand{\headrulewidth}{0pt}
  }
  
   %%%%%%%%% style intro %%%%%%%%
  \fancypagestyle{introduction}
  {
      \fancyhf{}				% en-tête vide
      
      \fancyfoot[RO,LE]{\textbf{\thepage}}	% pied de page avec : page numéro
      \renewcommand{\footrulewidth}{1pt}
      \renewcommand{\headrulewidth}{1pt}
  }
  %%%%%%%%% style main %%%%%%%%
  \fancypagestyle{main}
  {
      \fancyhf{}
      
      \renewcommand{\chaptermark}[1]{\markboth{\textbf{\MakeUppercase{\chaptername}\ \thechapter.\ ##1}}{}}
%       \renewcommand{\sectionmark}[1]{\markright{\thesection\ ##1}}
      \renewcommand{\sectionmark}[1]{\markright{##1}}
      \fancyhead[L]{\leftmark\\[0.3em] \hspace{3cm} \rightmark \vspace{0.3em}}
      \renewcommand{\headrulewidth}{1pt}
      
      \renewcommand{\footrulewidth}{0pt}
      \fancyfoot[C]{\thepage}
  }
  
  %%%%%%%%% style back %%%%%%%%
  \fancypagestyle{back}
  {
      \fancyhf{}
      
      \fancyfoot[RO,LE]{\textbf{\thepage}}
      \renewcommand{\footrulewidth}{1pt}
  }
  
  
  